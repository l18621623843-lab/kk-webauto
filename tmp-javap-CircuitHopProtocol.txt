Compiled from "CircuitHopProtocol.java"
public class io.libp2p.protocol.circuit.CircuitHopProtocol extends io.libp2p.protocol.ProtobufProtocolHandler<io.libp2p.protocol.circuit.CircuitHopProtocol$HopController> {
  private static final java.lang.String HOP_HANDLER_NAME;

  private static final java.lang.String STREAM_CLEARER_NAME;

  private static final int TRAFFIC_LIMIT;

  private final io.libp2p.protocol.circuit.CircuitHopProtocol$RelayManager manager;

  private final io.libp2p.protocol.circuit.CircuitStopProtocol$Binding stop;

  private io.libp2p.core.Host us;

  private static void putUvarint(java.io.OutputStream, long) throws java.io.IOException;
    Code:
       0: lload_1
       1: ldc2_w        #1                  // long 128l
       4: lcmp
       5: iflt          27
       8: aload_0
       9: lload_1
      10: ldc2_w        #1                  // long 128l
      13: lor
      14: l2i
      15: i2b
      16: invokevirtual #3                  // Method java/io/OutputStream.write:(I)V
      19: lload_1
      20: bipush        7
      22: lshr
      23: lstore_1
      24: goto          0
      27: aload_0
      28: lload_1
      29: l2i
      30: i2b
      31: invokevirtual #3                  // Method java/io/OutputStream.write:(I)V
      34: return
    LineNumberTable:
      line 51: 0
      line 52: 8
      line 53: 19
      line 55: 27
      line 56: 34
    LocalVariableTable:
      Start  Length  Slot  Name   Signature
          0      35     0   out   Ljava/io/OutputStream;
          0      35     1     x   J

  public static byte[] createVoucher(io.libp2p.core.crypto.PrivKey, io.libp2p.core.PeerId, io.libp2p.core.PeerId, java.time.LocalDateTime);
    Code:
       0: new           #4                  // class java/io/ByteArrayOutputStream
       3: dup
       4: invokespecial #5                  // Method java/io/ByteArrayOutputStream."<init>":()V
       7: astore        4
       9: aload         4
      11: ldc2_w        #6                  // long 770l
      14: invokestatic  #8                  // Method putUvarint:(Ljava/io/OutputStream;J)V
      17: goto          22
      20: astore        5
      22: aload         4
      24: invokevirtual #10                 // Method java/io/ByteArrayOutputStream.toByteArray:()[B
      27: astore        5
      29: invokestatic  #11                 // Method io/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher.newBuilder:()Lio/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher$Builder;
      32: aload_1
      33: invokevirtual #12                 // Method io/libp2p/core/PeerId.getBytes:()[B
      36: invokestatic  #13                 // Method com/google/protobuf/ByteString.copyFrom:([B)Lcom/google/protobuf/ByteString;
      39: invokevirtual #14                 // Method io/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher$Builder.setRelay:(Lcom/google/protobuf/ByteString;)Lio/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher$Builder;
      42: aload_2
      43: invokevirtual #12                 // Method io/libp2p/core/PeerId.getBytes:()[B
      46: invokestatic  #13                 // Method com/google/protobuf/ByteString.copyFrom:([B)Lcom/google/protobuf/ByteString;
      49: invokevirtual #15                 // Method io/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher$Builder.setPeer:(Lcom/google/protobuf/ByteString;)Lio/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher$Builder;
      52: aload_3
      53: getstatic     #16                 // Field java/time/ZoneOffset.UTC:Ljava/time/ZoneOffset;
      56: invokevirtual #17                 // Method java/time/LocalDateTime.toEpochSecond:(Ljava/time/ZoneOffset;)J
      59: ldc2_w        #18                 // long 1000000000l
      62: lmul
      63: invokevirtual #20                 // Method io/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher$Builder.setExpiration:(J)Lio/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher$Builder;
      66: invokevirtual #21                 // Method io/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher$Builder.build:()Lio/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher;
      69: invokevirtual #22                 // Method io/libp2p/protocol/circuit/pb/VoucherOuterClass$Voucher.toByteArray:()[B
      72: astore        6
      74: ldc           #23                 // String libp2p-relay-rsvp
      76: getstatic     #24                 // Field java/nio/charset/StandardCharsets.UTF_8:Ljava/nio/charset/Charset;
      79: invokevirtual #25                 // Method java/lang/String.getBytes:(Ljava/nio/charset/Charset;)[B
      82: astore        7
      84: new           #4                  // class java/io/ByteArrayOutputStream
      87: dup
      88: invokespecial #5                  // Method java/io/ByteArrayOutputStream."<init>":()V
      91: astore        8
      93: aload         8
      95: aload         7
      97: arraylength
      98: i2l
      99: invokestatic  #8                  // Method putUvarint:(Ljava/io/OutputStream;J)V
     102: aload         8
     104: aload         7
     106: invokevirtual #26                 // Method java/io/ByteArrayOutputStream.write:([B)V
     109: aload         8
     111: aload         5
     113: arraylength
     114: i2l
     115: invokestatic  #8                  // Method putUvarint:(Ljava/io/OutputStream;J)V
     118: aload         8
     120: aload         5
     122: invokevirtual #26                 // Method java/io/ByteArrayOutputStream.write:([B)V
     125: aload         8
     127: aload         6
     129: arraylength
     130: i2l
     131: invokestatic  #8                  // Method putUvarint:(Ljava/io/OutputStream;J)V
     134: aload         8
     136: aload         6
     138: invokevirtual #26                 // Method java/io/ByteArrayOutputStream.write:([B)V
     141: goto          146
     144: astore        9
     146: aload_0
     147: aload         8
     149: invokevirtual #10                 // Method java/io/ByteArrayOutputStream.toByteArray:()[B
     152: invokevirtual #27                 // Method io/libp2p/core/crypto/PrivKey.sign:([B)[B
     155: astore        9
     157: invokestatic  #28                 // Method io/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope.newBuilder:()Lio/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope$Builder;
     160: aload         5
     162: invokestatic  #13                 // Method com/google/protobuf/ByteString.copyFrom:([B)Lcom/google/protobuf/ByteString;
     165: invokevirtual #29                 // Method io/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope$Builder.setPayloadType:(Lcom/google/protobuf/ByteString;)Lio/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope$Builder;
     168: aload         6
     170: invokestatic  #13                 // Method com/google/protobuf/ByteString.copyFrom:([B)Lcom/google/protobuf/ByteString;
     173: invokevirtual #30                 // Method io/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope$Builder.setPayload:(Lcom/google/protobuf/ByteString;)Lio/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope$Builder;
     176: invokestatic  #31                 // Method io/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$PublicKey.newBuilder:()Lio/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$PublicKey$Builder;
     179: aload_0
     180: invokevirtual #32                 // Method io/libp2p/core/crypto/PrivKey.publicKey:()Lio/libp2p/core/crypto/PubKey;
     183: invokevirtual #33                 // Method io/libp2p/core/crypto/PubKey.getKeyType:()Lcrypto/pb/Crypto$KeyType;
     186: invokevirtual #34                 // Method crypto/pb/Crypto$KeyType.getNumber:()I
     189: invokevirtual #35                 // Method io/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$PublicKey$Builder.setTypeValue:(I)Lio/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$PublicKey$Builder;
     192: aload_0
     193: invokevirtual #32                 // Method io/libp2p/core/crypto/PrivKey.publicKey:()Lio/libp2p/core/crypto/PubKey;
     196: invokevirtual #36                 // Method io/libp2p/core/crypto/PubKey.raw:()[B
     199: invokestatic  #13                 // Method com/google/protobuf/ByteString.copyFrom:([B)Lcom/google/protobuf/ByteString;
     202: invokevirtual #37                 // Method io/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$PublicKey$Builder.setData:(Lcom/google/protobuf/ByteString;)Lio/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$PublicKey$Builder;
     205: invokevirtual #38                 // Method io/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope$Builder.setPublicKey:(Lio/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$PublicKey$Builder;)Lio/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope$Builder;
     208: aload         9
     210: invokestatic  #13                 // Method com/google/protobuf/ByteString.copyFrom:([B)Lcom/google/protobuf/ByteString;
     213: invokevirtual #39                 // Method io/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope$Builder.setSignature:(Lcom/google/protobuf/ByteString;)Lio/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope$Builder;
     216: invokevirtual #40                 // Method io/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope$Builder.build:()Lio/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope;
     219: invokevirtual #41                 // Method io/libp2p/protocol/circuit/crypto/pb/EnvelopeOuterClass$Envelope.toByteArray:()[B
     222: areturn
    Exception table:
       from    to  target type
           9    17    20   Class java/io/IOException
          93   141   144   Class java/io/IOException
    LineNumberTable:
      line 60: 0
      line 62: 9
      line 64: 17
      line 63: 20
      line 65: 22
      line 67: 29
      line 68: 33
      line 69: 43
      line 70: 56
      line 71: 66
      line 72: 69
      line 73: 74
      line 74: 84
      line 76: 93
      line 77: 102
      line 78: 109
      line 79: 118
      line 80: 125
      line 81: 134
      line 83: 141
      line 82: 144
      line 84: 146
      line 85: 157
      line 86: 162
      line 87: 170
      line 89: 176
      line 90: 180
      line 91: 193
      line 88: 205
      line 92: 210
      line 93: 216
      line 94: 219
      line 85: 222
    LocalVariableTable:
      Start  Length  Slot  Name   Signature
          0     223     0  priv   Lio/libp2p/core/crypto/PrivKey;
          0     223     1 relay   Lio/libp2p/core/PeerId;
          0     223     2 requestor   Lio/libp2p/core/PeerId;
          0     223     3 expiry   Ljava/time/LocalDateTime;
          9     214     4  bout   Ljava/io/ByteArrayOutputStream;
         29     194     5 typeMulticodec   [B
         74     149     6 payload   [B
         84     139     7 signDomain   [B
         93     130     8 toSign   Ljava/io/ByteArrayOutputStream;
        157      66     9 signature   [B

  public io.libp2p.protocol.circuit.CircuitHopProtocol(io.libp2p.protocol.circuit.CircuitHopProtocol$RelayManager, io.libp2p.protocol.circuit.CircuitStopProtocol$Binding);
    Code:
       0: aload_0
       1: invokestatic  #42                 // Method io/libp2p/protocol/circuit/pb/Circuit$HopMessage.getDefaultInstance:()Lio/libp2p/protocol/circuit/pb/Circuit$HopMessage;
       4: ldc2_w        #44                 // long 2048l
       7: ldc2_w        #44                 // long 2048l
      10: invokespecial #46                 // Method io/libp2p/protocol/ProtobufProtocolHandler."<init>":(Lcom/google/protobuf/MessageLite;JJ)V
      13: aload_0
      14: aload_1
      15: putfield      #47                 // Field manager:Lio/libp2p/protocol/circuit/CircuitHopProtocol$RelayManager;
      18: aload_0
      19: aload_2
      20: putfield      #48                 // Field stop:Lio/libp2p/protocol/circuit/CircuitStopProtocol$Binding;
      23: return
    LineNumberTable:
      line 390: 0
      line 391: 13
      line 392: 18
      line 393: 23
    LocalVariableTable:
      Start  Length  Slot  Name   Signature
          0      24     0  this   Lio/libp2p/protocol/circuit/CircuitHopProtocol;
          0      24     1 manager   Lio/libp2p/protocol/circuit/CircuitHopProtocol$RelayManager;
          0      24     2  stop   Lio/libp2p/protocol/circuit/CircuitStopProtocol$Binding;

  public void setHost(io.libp2p.core.Host);
    Code:
       0: aload_0
       1: aload_1
       2: putfield      #49                 // Field us:Lio/libp2p/core/Host;
       5: return
    LineNumberTable:
      line 396: 0
      line 397: 5
    LocalVariableTable:
      Start  Length  Slot  Name   Signature
          0       6     0  this   Lio/libp2p/protocol/circuit/CircuitHopProtocol;
          0       6     1    us   Lio/libp2p/core/Host;

  protected java.util.concurrent.CompletableFuture<io.libp2p.protocol.circuit.CircuitHopProtocol$HopController> onStartInitiator(io.libp2p.core.Stream);
    Code:
       0: new           #50                 // class io/libp2p/protocol/circuit/CircuitHopProtocol$Sender
       3: dup
       4: aload_1
       5: invokespecial #51                 // Method io/libp2p/protocol/circuit/CircuitHopProtocol$Sender."<init>":(Lio/libp2p/core/Stream;)V
       8: astore_2
       9: aload_1
      10: ldc           #52                 // String HOP_HANDLER
      12: new           #53                 // class io/libp2p/protocol/ProtocolMessageHandlerAdapter
      15: dup
      16: aload_1
      17: aload_2
      18: invokespecial #54                 // Method io/libp2p/protocol/ProtocolMessageHandlerAdapter."<init>":(Lio/libp2p/core/Stream;Lio/libp2p/protocol/ProtocolMessageHandler;)V
      21: invokeinterface #55,  3           // InterfaceMethod io/libp2p/core/Stream.pushHandler:(Ljava/lang/String;Lio/netty/channel/ChannelHandler;)V
      26: aload_2
      27: invokestatic  #56                 // Method java/util/concurrent/CompletableFuture.completedFuture:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      30: areturn
    LineNumberTable:
      line 402: 0
      line 403: 9
      line 405: 26
    LocalVariableTable:
      Start  Length  Slot  Name   Signature
          0      31     0  this   Lio/libp2p/protocol/circuit/CircuitHopProtocol;
          0      31     1 stream   Lio/libp2p/core/Stream;
          9      22     2 replyPropagator   Lio/libp2p/protocol/circuit/CircuitHopProtocol$Sender;

  protected java.util.concurrent.CompletableFuture<io.libp2p.protocol.circuit.CircuitHopProtocol$HopController> onStartResponder(io.libp2p.core.Stream);
    Code:
       0: aload_0
       1: getfield      #49                 // Field us:Lio/libp2p/core/Host;
       4: ifnonnull     17
       7: new           #57                 // class java/lang/IllegalStateException
      10: dup
      11: ldc           #58                 // String null Host for us!
      13: invokespecial #59                 // Method java/lang/IllegalStateException."<init>":(Ljava/lang/String;)V
      16: athrow
      17: aload_0
      18: invokedynamic #60,  0             // InvokeDynamic #0:get:(Lio/libp2p/protocol/circuit/CircuitHopProtocol;)Ljava/util/function/Supplier;
      23: astore_2
      24: new           #61                 // class io/libp2p/protocol/circuit/CircuitHopProtocol$Receiver
      27: dup
      28: aload_0
      29: getfield      #49                 // Field us:Lio/libp2p/core/Host;
      32: aload_0
      33: getfield      #47                 // Field manager:Lio/libp2p/protocol/circuit/CircuitHopProtocol$RelayManager;
      36: aload_2
      37: aload_0
      38: getfield      #48                 // Field stop:Lio/libp2p/protocol/circuit/CircuitStopProtocol$Binding;
      41: aload_0
      42: getfield      #49                 // Field us:Lio/libp2p/core/Host;
      45: invokeinterface #62,  1           // InterfaceMethod io/libp2p/core/Host.getAddressBook:()Lio/libp2p/core/AddressBook;
      50: invokespecial #63                 // Method io/libp2p/protocol/circuit/CircuitHopProtocol$Receiver."<init>":(Lio/libp2p/core/Host;Lio/libp2p/protocol/circuit/CircuitHopProtocol$RelayManager;Ljava/util/function/Supplier;Lio/libp2p/protocol/circuit/CircuitStopProtocol$Binding;Lio/libp2p/core/AddressBook;)V
      53: astore_3
      54: aload_1
      55: ldc           #52                 // String HOP_HANDLER
      57: new           #53                 // class io/libp2p/protocol/ProtocolMessageHandlerAdapter
      60: dup
      61: aload_1
      62: aload_3
      63: invokespecial #54                 // Method io/libp2p/protocol/ProtocolMessageHandlerAdapter."<init>":(Lio/libp2p/core/Stream;Lio/libp2p/protocol/ProtocolMessageHandler;)V
      66: invokeinterface #55,  3           // InterfaceMethod io/libp2p/core/Stream.pushHandler:(Ljava/lang/String;Lio/netty/channel/ChannelHandler;)V
      71: aload_3
      72: invokestatic  #56                 // Method java/util/concurrent/CompletableFuture.completedFuture:(Ljava/lang/Object;)Ljava/util/concurrent/CompletableFuture;
      75: areturn
    LineNumberTable:
      line 411: 0
      line 412: 17
      line 413: 24
      line 414: 54
      line 415: 71
    LocalVariableTable:
      Start  Length  Slot  Name   Signature
          0      76     0  this   Lio/libp2p/protocol/circuit/CircuitHopProtocol;
          0      76     1 stream   Lio/libp2p/core/Stream;
         24      52     2 ourpublicAddresses   Ljava/util/function/Supplier;
         54      22     3 dialer   Lio/libp2p/protocol/circuit/CircuitHopProtocol$Receiver;

  private java.util.List lambda$onStartResponder$0();
    Code:
       0: aload_0
       1: getfield      #49                 // Field us:Lio/libp2p/core/Host;
       4: invokeinterface #64,  1           // InterfaceMethod io/libp2p/core/Host.listenAddresses:()Ljava/util/List;
       9: areturn
    LineNumberTable:
      line 412: 0
    LocalVariableTable:
      Start  Length  Slot  Name   Signature
          0      10     0  this   Lio/libp2p/protocol/circuit/CircuitHopProtocol;
}
